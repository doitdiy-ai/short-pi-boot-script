# 1. MAKING THE SYSTEM WORK. DO NOT REMOVE
mount -t tmpfs tmp /run
mkdir -p /run/systemd
mount / -o remount,rw
sed -i 's| init=.*||' /boot/cmdline.txt

# 2. THE USEFUL PART OF THE SCRIPT
# Enable SSH
raspi-config nonint do_ssh 0
# Enable VNC
raspi-config nonint do_vnc 0
# Change the hostname to something recognizable
raspi-config nonint do_hostname YOURHOSTNAMEHERE
# Set the screen resolution to 1920 x 1080, especially important for VNC to work if running headless
raspi-config nonint do_resolution 2 82
# enable the camera (optional)
raspi-config nonint do_camera 0
echo "Completed custom configuration"
sleep 5

# 3. CLEANING UP AND REBOOTING
sync
umount /boot
mount / -o remount,ro
sync
echo 1 > /proc/sys/kernel/sysrq
echo b > /proc/sysrq-trigger
sleep 5
